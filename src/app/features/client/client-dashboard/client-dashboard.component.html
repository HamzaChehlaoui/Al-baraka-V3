<div class="dashboard-container">

  <!-- Header -->
  <div class="bank-header">
    <div class="bank-logo">
      <i class="fas fa-university bank-icon"></i>
      <h2>Al Baraka Digital</h2>
      <p class="bank-subtitle">Espace Client</p>
    </div>

    <div class="user-badge">
      <i class="fas fa-user-circle"></i>
      <span>{{ currentUser?.fullName }}</span>
    </div>
  </div>

  <!-- Error Message -->
  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <!-- Balance Section -->
  <div class="balance-section">
    <label>Solde du Compte</label>
    <div class="balance-box">
      <div *ngIf="isLoading" class="loading-text">
        <span class="loader"></span> Chargement...
      </div>
      <div *ngIf="!isLoading">
        <p class="balance-amount">{{ (accountBalance | number: '1.2-2') || '0.00' }} DH</p>
        <p class="account-number">
          <i class="fas fa-credit-card"></i> {{ currentUser?.accountNumber }}
        </p>
      </div>
    </div>
  </div>

  <!-- Navigation Menu -->
  <div class="nav-section">
    <div class="section-header">
      <i class="fas fa-wallet"></i>
      <span>Opérations Bancaires</span>
    </div>
    <div class="nav-grid">
      <a routerLink="/client/deposit" class="nav-btn">
        <div class="nav-icon deposit">
          <i class="fas fa-plus-circle"></i>
        </div>
        <div class="nav-text">
          <span class="nav-title">Dépôt</span>
          <span class="nav-desc">Ajouter des fonds</span>
        </div>
      </a>
      <a routerLink="/client/withdrawal" class="nav-btn">
        <div class="nav-icon withdrawal">
          <i class="fas fa-minus-circle"></i>
        </div>
        <div class="nav-text">
          <span class="nav-title">Retrait</span>
          <span class="nav-desc">Retirer des fonds</span>
        </div>
      </a>
      <a routerLink="/client/transfer" class="nav-btn">
        <div class="nav-icon transfer">
          <i class="fas fa-exchange-alt"></i>
        </div>
        <div class="nav-text">
          <span class="nav-title">Virement</span>
          <span class="nav-desc">Transférer de l'argent</span>
        </div>
      </a>
      <a routerLink="/client/operations" class="nav-btn">
        <div class="nav-icon history">
          <i class="fas fa-history"></i>
        </div>
        <div class="nav-text">
          <span class="nav-title">Historique</span>
          <span class="nav-desc">Voir les opérations</span>
        </div>
      </a>
    </div>
  </div>

  <!-- Recent Operations -->
  <div class="operations-section">
    <div class="section-header">
      <i class="fas fa-clock"></i>
      <span>Opérations Récentes</span>
    </div>
    <div class="operations-box">
      <div *ngIf="isLoading" class="loading-text">
        <span class="loader"></span> Chargement...
      </div>
      <table *ngIf="!isLoading && recentOperations.length > 0" class="operations-table">
        <thead>
          <tr>
            <th>Type</th>
            <th>Date</th>
            <th>Montant</th>
            <th>Statut</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let op of recentOperations">
            <td>
              <div class="type-cell">
                <i class="fas fa-exchange-alt"></i>
                <span>{{ op.type || 'N/A' }}</span>
              </div>
            </td>
            <td>{{ op.createdAt | date: 'dd/MM/yyyy HH:mm' }}</td>
            <td class="amount-cell">{{ op.amount | number:'1.2-2' }} {{ op.currency }}</td>
            <td>
              <span class="status-badge" [ngClass]="'status-' + (op.status ? op.status.toLowerCase() : 'pending')">
                {{ op.status || 'En attente' }}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="!isLoading && recentOperations.length === 0" class="no-data">
        <i class="fas fa-inbox"></i>
        <p>Aucune opération récente</p>
      </div>
    </div>
  </div>

  <!-- Logout Button -->
  <button (click)="logout()" class="btn-logout">
    <i class="fas fa-sign-out-alt"></i>
    Déconnexion
  </button>

  <!-- Footer -->
  <div class="dashboard-footer">
    <p>Support technique : <strong>5555-1234</strong></p>
  </div>

</div>
